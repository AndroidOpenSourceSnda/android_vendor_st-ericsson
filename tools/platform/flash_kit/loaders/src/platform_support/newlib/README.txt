NEWLIB
======

WHAT DOES NEWLIB PROVIDE
------------------------

HOW NEWLIB WAS COMPILED
-----------------------
We downloaded android-ndk-r3 from: *http://developer.android.com/sdk/ndk/index.html*.
In that package there existed a script that downloads and compiles the latest version of the
tool chain.

Then we changed folder to the cloned source folder and put a copy of newlib in
the root of the clone.
..................................................................................................
> cd /tmp/android-ndk-toolchain-20100401/
> wget -c ftp://sources.redhat.com/pub/newlib/newlib-1.17.0.tar.gz
> tar -xzf ./newlib-1.17.0.tar.gz
..................................................................................................

Since we need an folder to be used as installation place we created a new folder in
the ndk tree:
..................................................................................................
> mkdir /tmp/android-ndk-toolchain-20100401/install_dir
..................................................................................................

In the new cloned source folder we created a new folder named *build_folder_temp*
that we used as current working directory:
..................................................................................................
> mkdir /tmp/android-ndk-toolchain-20100401/build_folder_temp
> cd /tmp/android-ndk-toolchain-20100401/build_folder_temp
..................................................................................................

Since there exist a bug in the Makefile.in and since the configure script lack support for our
target, we were forced to patch the received files. See the file *CHANGES.txt* for details.

After the patch has been applied we use the built-in configure script and creates the
*Makefile*-file by running following command:
..................................................................................................
../build/configure --prefix=/tmp/android-ndk-toolchain-20100401/install_dir/
--target=arm-none-eabi --with-binutils-version=2.19 --disable-werror --with-newlib-version=1.17.0
--enable-interwork --enable-multilib --enable-languages="c,c++"
--with-headers=/tmp/android-ndk-toolchain-20100401/newlib/newlib-1.17.0/newlib/libc/include/
--disable-newlib-supplied-syscalls --with-newlib --with-gcc-version=4.4.0
..................................................................................................

This will use the Makefile.in as template and creates a new file called Makefile, this file contains the
configuration combined with the template. (Notice that it is important to use *gcc version 4.4.0* and *disable-werror*,
or else you are not able to compile)

Now we are able to compile by running this command
..................................................................................................
make install-target-newlib
..................................................................................................

Then you are able to copy the new newlib to the same folder as this README-file.

USED MAKEFILES ETC
~~~~~~~~~~~~~~~~~~
Following files contains configuration generated by us:

. build/configure
. build/Makefile.in
. Makefile
