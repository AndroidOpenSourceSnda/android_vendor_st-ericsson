<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>NMF Host Execution Engine Documentation: CM Engine Control API</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
<small><b>
<a href="http://www.stericsson.com"><img src="logo.jpg" width=220 height=68></a>
 WMM/MCP/MMD <a href="https://codex.cro.st.com/projects/nmf/">Nomadik Multiprocessing Framework</a>
</b></small>
</head><body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>CM Engine Control API<br/>
<small>
[<a class="el" href="group___c_m___e_n_g_i_n_e___m_o_d_u_l_e.html">CM Engine</a>]</small>
</h1>
<p>CM Engine API.  
<a href="#_details">More...</a></p>

<p><div class="dynheader">
Collaboration diagram for CM Engine Control API:</div>
<div class="dynsection">
<center><table><tr><td><img src="group___c_m___e_n_g_i_n_e___c_o_n_t_r_o_l___a_p_i.png" border="0" alt="" usemap="#group______c__m______e__n__g__i__n__e______c__o__n__t__r__o__l______a__p__i_map"/>
<map name="group______c__m______e__n__g__i__n__e______c__o__n__t__r__o__l______a__p__i_map" id="group______c__m______e__n__g__i__n__e______c__o__n__t__r__o__l______a__p__i">
<area shape="rect" href="group__t__nmf__semaphore__type__id.html" title="Definition of which type semaphore shall be used for the given Media Processor communication..." alt="" coords="348,5,521,35"/><area shape="rect" href="group__t__nmf__nomadik__version.html" title="Description of the various supported Nomadik SOC version." alt="" coords="355,59,515,88"/><area shape="rect" href="group__t__nmf__power__ctx.html" title="Definition of the CM&#45;engine context." alt="" coords="375,112,495,141"/><area shape="rect" href="group__t__nmf__executive__engine__id.html" title="Identification of the Media Processor Executive Engine to deploy." alt="" coords="345,165,524,195"/><area shape="rect" href="group___c_m___e_n_g_i_n_e___m_o_d_u_l_e.html" title="CM Engine API." alt="" coords="7,85,89,115"/></map></td></tr></table></center>
</div>
</p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structt__nmf__hw__mapping__desc.html">t_nmf_hw_mapping_desc</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Configuration Component Manager User Engine API.  <a href="structt__nmf__hw__mapping__desc.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structt__nmf__config__desc.html">t_nmf_config_desc</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Description of the configuration parameters of the Component Manager.  <a href="structt__nmf__config__desc.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structt__cm__service__description.html">t_cm_service_description</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Service description data.  <a href="structt__cm__service__description.html#_details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2>Modules</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__t__nmf__nomadik__version.html">t_nmf_nomadik_version</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>Description of the various supported Nomadik SOC version. </p>
<br/></td></tr>
</p>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__t__nmf__power__ctx.html">t_nmf_power_ctx</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>Definition of the CM-engine context. </p>
<br/></td></tr>
</p>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__t__nmf__executive__engine__id.html">t_nmf_executive_engine_id</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>Identification of the Media Processor Executive Engine to deploy. </p>
<br/></td></tr>
</p>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__t__nmf__semaphore__type__id.html">t_nmf_semaphore_type_id</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>Definition of which type semaphore shall be used for the given Media Processor communication mechanism. </p>
<br/></td></tr>
</p>
<tr><td colspan="2"><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_m___e_n_g_i_n_e___c_o_n_t_r_o_l___a_p_i.html#ga87e15a7cbdfae98ef3607e69e4890ff3">t_cm_service_type</a> { <br/>
&nbsp;&nbsp;<a class="el" href="group___c_m___e_n_g_i_n_e___c_o_n_t_r_o_l___a_p_i.html#gga87e15a7cbdfae98ef3607e69e4890ff3ab1fcd4b97c963a18cd0ae75325291d46">CM_MPC_SERVICE_NONE</a> =  0, 
<br/>
&nbsp;&nbsp;<a class="el" href="group___c_m___e_n_g_i_n_e___c_o_n_t_r_o_l___a_p_i.html#gga87e15a7cbdfae98ef3607e69e4890ff3adb8393e571633775b514ed690409b9a0">CM_MPC_SERVICE_PANIC</a> =  1, 
<br/>
&nbsp;&nbsp;<a class="el" href="group___c_m___e_n_g_i_n_e___c_o_n_t_r_o_l___a_p_i.html#gga87e15a7cbdfae98ef3607e69e4890ff3a6628a107d820f7899d9ce28fbdb424a3">CM_MPC_SERVICE_PRINT</a> =  2, 
<br/>
&nbsp;&nbsp;<a class="el" href="group___c_m___e_n_g_i_n_e___c_o_n_t_r_o_l___a_p_i.html#gga87e15a7cbdfae98ef3607e69e4890ff3a43565a69703d7eed4d208c14a00c8922">CM_MPC_SERVICE_TRACE</a> =  3
<br/>
 }</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>Service type. </p>
 <a href="group___c_m___e_n_g_i_n_e___c_o_n_t_r_o_l___a_p_i.html#ga87e15a7cbdfae98ef3607e69e4890ff3">More...</a><br/></td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">PUBLIC <a class="el" href="group__t__cm__error.html#ga0c6e4897ef6a9f579c3dcac1b697141b">t_cm_error</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_m___e_n_g_i_n_e___c_o_n_t_r_o_l___a_p_i.html#ga388647ed3f0b0ffab840f00eeb95b92b">CM_ENGINE_Init</a> (const <a class="el" href="structt__nmf__hw__mapping__desc.html">t_nmf_hw_mapping_desc</a> *pNmfHwMappingDesc, const <a class="el" href="structt__nmf__config__desc.html">t_nmf_config_desc</a> *pNmfConfigDesc)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialisation part.  <a href="#ga388647ed3f0b0ffab840f00eeb95b92b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">PUBLIC <a class="el" href="group__t__cm__error.html#ga0c6e4897ef6a9f579c3dcac1b697141b">t_cm_error</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_m___e_n_g_i_n_e___c_o_n_t_r_o_l___a_p_i.html#gab4777ff5c0e2972325eb37d4a4e062fd">CM_ENGINE_ConfigureMediaProcessorCore</a> (<a class="el" href="group___n_m_f___c_o_m_m_o_n.html#gac53bb14df82074176d1666dc02e940ec">t_nmf_core_id</a> coreId, <a class="el" href="group__t__nmf__executive__engine__id.html#gadf0ad31a28df72631cc9534995b1f196">t_nmf_executive_engine_id</a> executiveEngineId, <a class="el" href="group__t__nmf__semaphore__type__id.html#ga9e2fd2f02e5198072a03189834fdb1bd">t_nmf_semaphore_type_id</a> semaphoreTypeId, <a class="el" href="group___n_m_f___p_r_i_m_i_t_i_v_e___t_y_p_e.html#ga0914b90e8ac459280d7a279030e57bd5">t_uint8</a> nbYramBanks, const <a class="el" href="structt__cm__system__address.html">t_cm_system_address</a> *mediaProcessorMappingBaseAddr, const <a class="el" href="group___c_m___d_o_m_a_i_n___a_p_i.html#gadcf9bdfe1b7252c8bb8f2dd5211c6780">t_cm_domain_id</a> eeDomain, const t_cfg_allocator_id sdramCodeAllocId, const t_cfg_allocator_id sdramDataAllocId)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Media Processor core initialisation part.  <a href="#gab4777ff5c0e2972325eb37d4a4e062fd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">PUBLIC <a class="el" href="group__t__cm__error.html#ga0c6e4897ef6a9f579c3dcac1b697141b">t_cm_error</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_m___e_n_g_i_n_e___c_o_n_t_r_o_l___a_p_i.html#ga46a94e7b637b18d9abb9977b9b49cc48">CM_ENGINE_AddMpcSdramSegment</a> (const <a class="el" href="structt__nmf__memory__segment.html">t_nmf_memory_segment</a> *pDesc, t_cfg_allocator_id *allocId, const char *memoryname)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Configure a memory segment for later.  <a href="#ga46a94e7b637b18d9abb9977b9b49cc48"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">PUBLIC void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_m___e_n_g_i_n_e___c_o_n_t_r_o_l___a_p_i.html#gac44fb8fd5b8a151b685b3b19ccdcc37b">CM_ENGINE_Destroy</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destruction part.  <a href="#gac44fb8fd5b8a151b685b3b19ccdcc37b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">PUBLIC IMPORT_SHARED void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_m___e_n_g_i_n_e___c_o_n_t_r_o_l___a_p_i.html#gaa2943306fbcb53f6ec7ea087f7cf93a4">CM_ProcessMpcEvent</a> (<a class="el" href="group___n_m_f___c_o_m_m_o_n.html#gac53bb14df82074176d1666dc02e940ec">t_nmf_core_id</a> coreId)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">NMF API for interrupt handler.  <a href="#gaa2943306fbcb53f6ec7ea087f7cf93a4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">PUBLIC IMPORT_SHARED <a class="el" href="group__t__cm__error.html#ga0c6e4897ef6a9f579c3dcac1b697141b">t_cm_error</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_m___e_n_g_i_n_e___c_o_n_t_r_o_l___a_p_i.html#ga1e7af9209036b8bbe7b4301a97b3b72d">CM_getServiceDescription</a> (<a class="el" href="group___n_m_f___c_o_m_m_o_n.html#gac53bb14df82074176d1666dc02e940ec">t_nmf_core_id</a> coreId, <a class="el" href="group___c_m___e_n_g_i_n_e___c_o_n_t_r_o_l___a_p_i.html#ga87e15a7cbdfae98ef3607e69e4890ff3">t_cm_service_type</a> *srcType, <a class="el" href="structt__cm__service__description.html">t_cm_service_description</a> *srcDescr)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">MPC Panic handler.  <a href="#ga1e7af9209036b8bbe7b4301a97b3b72d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">PUBLIC IMPORT_SHARED <a class="el" href="group__t__cm__error.html#ga0c6e4897ef6a9f579c3dcac1b697141b">t_cm_error</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_m___e_n_g_i_n_e___c_o_n_t_r_o_l___a_p_i.html#gaa0c6dddf288f6b808937ef34c7be7931">CM_ReadMPCString</a> (<a class="el" href="group___n_m_f___c_o_m_m_o_n.html#gac53bb14df82074176d1666dc02e940ec">t_nmf_core_id</a> coreId, <a class="el" href="group___n_m_f___p_r_i_m_i_t_i_v_e___t_y_p_e.html#ga5543ed798da376a99db035f6ae6aaa1f">t_uint32</a> dspAddress, char *buffer, <a class="el" href="group___n_m_f___p_r_i_m_i_t_i_v_e___t_y_p_e.html#ga5543ed798da376a99db035f6ae6aaa1f">t_uint32</a> bufferSize)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read a null terminated string inside an MPC.  <a href="#gaa0c6dddf288f6b808937ef34c7be7931"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>CM Engine API. </p>
<p>This file contains the Component Manager Engine API.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>This API is not for OS integrator, it's only for low level system integration. </dd></dl>
<hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="ga87e15a7cbdfae98ef3607e69e4890ff3"></a><!-- doxytag: member="irq_engine.h::t_cm_service_type" ref="ga87e15a7cbdfae98ef3607e69e4890ff3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___c_m___e_n_g_i_n_e___c_o_n_t_r_o_l___a_p_i.html#ga87e15a7cbdfae98ef3607e69e4890ff3">t_cm_service_type</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Service type. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>We used an enumeration in structure since this description remain inside the kernel and we assume that everything in the kernel is compile with same compiler and option. </dd></dl>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="gga87e15a7cbdfae98ef3607e69e4890ff3ab1fcd4b97c963a18cd0ae75325291d46"></a><!-- doxytag: member="CM_MPC_SERVICE_NONE" ref="gga87e15a7cbdfae98ef3607e69e4890ff3ab1fcd4b97c963a18cd0ae75325291d46" args="" -->CM_MPC_SERVICE_NONE</em>&nbsp;</td><td>
<p>No service found. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga87e15a7cbdfae98ef3607e69e4890ff3adb8393e571633775b514ed690409b9a0"></a><!-- doxytag: member="CM_MPC_SERVICE_PANIC" ref="gga87e15a7cbdfae98ef3607e69e4890ff3adb8393e571633775b514ed690409b9a0" args="" -->CM_MPC_SERVICE_PANIC</em>&nbsp;</td><td>
<p>Panic service found. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga87e15a7cbdfae98ef3607e69e4890ff3a6628a107d820f7899d9ce28fbdb424a3"></a><!-- doxytag: member="CM_MPC_SERVICE_PRINT" ref="gga87e15a7cbdfae98ef3607e69e4890ff3a6628a107d820f7899d9ce28fbdb424a3" args="" -->CM_MPC_SERVICE_PRINT</em>&nbsp;</td><td>
<p>Print service found. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga87e15a7cbdfae98ef3607e69e4890ff3a43565a69703d7eed4d208c14a00c8922"></a><!-- doxytag: member="CM_MPC_SERVICE_TRACE" ref="gga87e15a7cbdfae98ef3607e69e4890ff3a43565a69703d7eed4d208c14a00c8922" args="" -->CM_MPC_SERVICE_TRACE</em>&nbsp;</td><td>
<p>Trace service found. </p>
</td></tr>
</table>
</dd>
</dl>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga46a94e7b637b18d9abb9977b9b49cc48"></a><!-- doxytag: member="configuration_engine.h::CM_ENGINE_AddMpcSdramSegment" ref="ga46a94e7b637b18d9abb9977b9b49cc48" args="(const t_nmf_memory_segment *pDesc, t_cfg_allocator_id *allocId, const char *memoryname)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PUBLIC <a class="el" href="group__t__cm__error.html#ga0c6e4897ef6a9f579c3dcac1b697141b">t_cm_error</a> CM_ENGINE_AddMpcSdramSegment </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structt__nmf__memory__segment.html">t_nmf_memory_segment</a> *&nbsp;</td>
          <td class="paramname"> <em>pDesc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">t_cfg_allocator_id *&nbsp;</td>
          <td class="paramname"> <em>allocId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>memoryname</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Configure a memory segment for later. </p>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>TBD</em>&nbsp;</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>TBD</dd></dl>
<dl class="warning"><dt><b>Warning:</b></dt><dd></dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>pDesc</em>&nbsp;</td><td>Memory segment description. </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>allocId</em>&nbsp;</td><td>Identifier of the created allocator. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>memoryname</em>&nbsp;</td><td>Memory purpose name </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gab4777ff5c0e2972325eb37d4a4e062fd"></a><!-- doxytag: member="configuration_engine.h::CM_ENGINE_ConfigureMediaProcessorCore" ref="gab4777ff5c0e2972325eb37d4a4e062fd" args="(t_nmf_core_id coreId, t_nmf_executive_engine_id executiveEngineId, t_nmf_semaphore_type_id semaphoreTypeId, t_uint8 nbYramBanks, const t_cm_system_address *mediaProcessorMappingBaseAddr, const t_cm_domain_id eeDomain, const t_cfg_allocator_id sdramCodeAllocId, const t_cfg_allocator_id sdramDataAllocId)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PUBLIC <a class="el" href="group__t__cm__error.html#ga0c6e4897ef6a9f579c3dcac1b697141b">t_cm_error</a> CM_ENGINE_ConfigureMediaProcessorCore </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___n_m_f___c_o_m_m_o_n.html#gac53bb14df82074176d1666dc02e940ec">t_nmf_core_id</a>&nbsp;</td>
          <td class="paramname"> <em>coreId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__t__nmf__executive__engine__id.html#gadf0ad31a28df72631cc9534995b1f196">t_nmf_executive_engine_id</a>&nbsp;</td>
          <td class="paramname"> <em>executiveEngineId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__t__nmf__semaphore__type__id.html#ga9e2fd2f02e5198072a03189834fdb1bd">t_nmf_semaphore_type_id</a>&nbsp;</td>
          <td class="paramname"> <em>semaphoreTypeId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___n_m_f___p_r_i_m_i_t_i_v_e___t_y_p_e.html#ga0914b90e8ac459280d7a279030e57bd5">t_uint8</a>&nbsp;</td>
          <td class="paramname"> <em>nbYramBanks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structt__cm__system__address.html">t_cm_system_address</a> *&nbsp;</td>
          <td class="paramname"> <em>mediaProcessorMappingBaseAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group___c_m___d_o_m_a_i_n___a_p_i.html#gadcf9bdfe1b7252c8bb8f2dd5211c6780">t_cm_domain_id</a>&nbsp;</td>
          <td class="paramname"> <em>eeDomain</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const t_cfg_allocator_id&nbsp;</td>
          <td class="paramname"> <em>sdramCodeAllocId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const t_cfg_allocator_id&nbsp;</td>
          <td class="paramname"> <em>sdramDataAllocId</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Media Processor core initialisation part. </p>
<p>This routine configures a given Media Processor core</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>coreId</em>&nbsp;</td><td>Media Processor identifier </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>executiveEngineId</em>&nbsp;</td><td>Media Processor Executive Engine identifier </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>semaphoreTypeId</em>&nbsp;</td><td>Media Processor semaphores (to be used by communication mechanism) identifier </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>nbYramBanks</em>&nbsp;</td><td>is the number of tcm ram banks to reserved for y memory </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>mediaProcessorMappingBaseAddr</em>&nbsp;</td><td>Media Processor mapping into host CPU addressable space </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>commDomain</em>&nbsp;</td><td>Domain for allocating communication FIFOs </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>eeDomain</em>&nbsp;</td><td>Domain for EE instantiation </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>sdramCodeAllocId</em>&nbsp;</td><td>Allocator Id for the SDRAM Code segment </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>sdramDataAllocId</em>&nbsp;</td><td>Allocator Id for the SDRAM Data segment</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>TBD</em>&nbsp;</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>exception number.</dd></dl>
<dl class="warning"><dt><b>Warning:</b></dt><dd>The Media Processor mapping address space SHALL BE declared as non cacheable, non bufferable inside host MMU table </dd></dl>

</div>
</div>
<a class="anchor" id="gac44fb8fd5b8a151b685b3b19ccdcc37b"></a><!-- doxytag: member="configuration_engine.h::CM_ENGINE_Destroy" ref="gac44fb8fd5b8a151b685b3b19ccdcc37b" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PUBLIC void CM_ENGINE_Destroy </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Destruction part. </p>
<p>This routine destroyes and releases all resources used by the Component Manager. </p>

</div>
</div>
<a class="anchor" id="ga388647ed3f0b0ffab840f00eeb95b92b"></a><!-- doxytag: member="configuration_engine.h::CM_ENGINE_Init" ref="ga388647ed3f0b0ffab840f00eeb95b92b" args="(const t_nmf_hw_mapping_desc *pNmfHwMappingDesc, const t_nmf_config_desc *pNmfConfigDesc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PUBLIC <a class="el" href="group__t__cm__error.html#ga0c6e4897ef6a9f579c3dcac1b697141b">t_cm_error</a> CM_ENGINE_Init </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structt__nmf__hw__mapping__desc.html">t_nmf_hw_mapping_desc</a> *&nbsp;</td>
          <td class="paramname"> <em>pNmfHwMappingDesc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structt__nmf__config__desc.html">t_nmf_config_desc</a> *&nbsp;</td>
          <td class="paramname"> <em>pNmfConfigDesc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialisation part. </p>
<p>This routine initialize and configure the Component Manager.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>pNmfHwMappingDesc</em>&nbsp;</td><td>hardware mapping description </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>pNmfConfigDesc</em>&nbsp;</td><td>NMF (mainly CM) Configuration description</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>TBD</em>&nbsp;</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>exception number.</dd></dl>
<dl class="warning"><dt><b>Warning:</b></dt><dd>The ESRAM address space SHALL BE declared as non cacheable, non bufferable inside host MMU table </dd></dl>

</div>
</div>
<a class="anchor" id="ga1e7af9209036b8bbe7b4301a97b3b72d"></a><!-- doxytag: member="irq_engine.h::CM_getServiceDescription" ref="ga1e7af9209036b8bbe7b4301a97b3b72d" args="(t_nmf_core_id coreId, t_cm_service_type *srcType, t_cm_service_description *srcDescr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PUBLIC IMPORT_SHARED <a class="el" href="group__t__cm__error.html#ga0c6e4897ef6a9f579c3dcac1b697141b">t_cm_error</a> CM_getServiceDescription </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___n_m_f___c_o_m_m_o_n.html#gac53bb14df82074176d1666dc02e940ec">t_nmf_core_id</a>&nbsp;</td>
          <td class="paramname"> <em>coreId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___c_m___e_n_g_i_n_e___c_o_n_t_r_o_l___a_p_i.html#ga87e15a7cbdfae98ef3607e69e4890ff3">t_cm_service_type</a> *&nbsp;</td>
          <td class="paramname"> <em>srcType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structt__cm__service__description.html">t_cm_service_description</a> *&nbsp;</td>
          <td class="paramname"> <em>srcDescr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>MPC Panic handler. </p>
<p>This routine shall be called as interrupt handler into the OS.</p>
<p>So CM_getPanicDescription shall be called under ISR connected to local MMDSP IRQ1, with the related <em>coreId</em> as parameter.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>coreId</em>&nbsp;</td><td>identification of the source of the interrupt </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>srcType</em>&nbsp;</td><td>Pointer on service type </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>srcDescr</em>&nbsp;</td><td>Pointer on service description </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gaa2943306fbcb53f6ec7ea087f7cf93a4"></a><!-- doxytag: member="irq_engine.h::CM_ProcessMpcEvent" ref="gaa2943306fbcb53f6ec7ea087f7cf93a4" args="(t_nmf_core_id coreId)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PUBLIC IMPORT_SHARED void CM_ProcessMpcEvent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___n_m_f___c_o_m_m_o_n.html#gac53bb14df82074176d1666dc02e940ec">t_nmf_core_id</a>&nbsp;</td>
          <td class="paramname"> <em>coreId</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>NMF API for interrupt handler. </p>
<p>This file contains the Component Manager API for interrupt handler.</p>
<p>MPCs -&gt; HOST communication handler This routine shall be integrated as interrupt handler into the OS</p>
<p>If the given Media Processor Core has been configured (through CM_ConfigureMediaProcessorCore()) as using <a class="el" href="group__t__nmf__semaphore__type__id.html#gaea8a88901457498d532313b33d04671b">LOCAL_SEMAPHORES</a>, then the NMF communication mechanism will use the embedded MMDSP macrocell semaphore, so CM_ProcessMpcEvent(&lt;<em>coreId&gt;</em>) shall be called under ISR connected to local MMDSP IRQ0, with the related <em>coreId</em> as parameter.</p>
<p>If the given Media Processor Core has been configured (through CM_ConfigureMediaProcessorCore()) as using <a class="el" href="group__t__nmf__semaphore__type__id.html#gadff385d4d5eb391aff42b1738f6a6393">SYSTEM_SEMAPHORES</a>, then the NMF communication mechanism will use the shared system HW Semaphores, so CM_ProcessMpcEvent(ARM_CORE_ID) shall be called under ISR connected to shared HW Sem Host IRQ, with ARM_CORE_ID as parameter.</p>
<p>NB: A Media Processor Core belonging to the distribution pool shall be configured with <a class="el" href="group__t__nmf__semaphore__type__id.html#gadff385d4d5eb391aff42b1738f6a6393">SYSTEM_SEMAPHORES</a></p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__t__nmf__semaphore__type__id.html#ga9e2fd2f02e5198072a03189834fdb1bd" title="Fake enumeration type.">t_nmf_semaphore_type_id</a> description</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>coreId</em>&nbsp;</td><td>identification of the source of the interrupt </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gaa0c6dddf288f6b808937ef34c7be7931"></a><!-- doxytag: member="irq_engine.h::CM_ReadMPCString" ref="gaa0c6dddf288f6b808937ef34c7be7931" args="(t_nmf_core_id coreId, t_uint32 dspAddress, char *buffer, t_uint32 bufferSize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PUBLIC IMPORT_SHARED <a class="el" href="group__t__cm__error.html#ga0c6e4897ef6a9f579c3dcac1b697141b">t_cm_error</a> CM_ReadMPCString </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___n_m_f___c_o_m_m_o_n.html#gac53bb14df82074176d1666dc02e940ec">t_nmf_core_id</a>&nbsp;</td>
          <td class="paramname"> <em>coreId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___n_m_f___p_r_i_m_i_t_i_v_e___t_y_p_e.html#ga5543ed798da376a99db035f6ae6aaa1f">t_uint32</a>&nbsp;</td>
          <td class="paramname"> <em>dspAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___n_m_f___p_r_i_m_i_t_i_v_e___t_y_p_e.html#ga5543ed798da376a99db035f6ae6aaa1f">t_uint32</a>&nbsp;</td>
          <td class="paramname"> <em>bufferSize</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read a null terminated string inside an MPC. </p>
<p>This routine could be used to read the MPC string give as parameter during an CM_NMF_SERVICE_PRINT</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>coreId</em>&nbsp;</td><td>Identification of the code where read string </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dspAddress</em>&nbsp;</td><td>Address of the string in the MPC </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>buffer</em>&nbsp;</td><td>Buffer pointer where returning null terminated string </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>bufferSize</em>&nbsp;</td><td>Buffer size </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div>
<hr size="1">
<address style="align: right;"><small> 
<b>NMF Host Execution Engine Documentation</b> generated by <a href="http://www.doxygen.org">doxygen</a> 1.6.3 on 28 Oct 2011
</small></address>
<address style="align: right;"><small>
Copyright 2006-2009 <a href="http://www.stericsson.com"><b>ST-Ericsson</b></a>
 - Confidential document - Unauthorized reproduction and communication strictly prohibited
</small></address>
</body>
</html>
