<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>NMF Host Execution Engine Documentation: NMF Host-&gt;MPC binding</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
<small><b>
<a href="http://www.stericsson.com"><img src="logo.jpg" width=220 height=68></a>
 WMM/MCP/MMD <a href="https://codex.cro.st.com/projects/nmf/">Nomadik Multiprocessing Framework</a>
</b></small>
</head><body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">


<h1><a class="anchor" id="HOST2MPC">NMF Host-&gt;MPC binding </a></h1><h2><a class="anchor" id="HOST2MPC_Data">
Data structures</a></h2>
<p>The following picture shows data structures put in place for Host-&gt;MPC (kernel or user) Binding. Like for architecture view, boxes in:</p>
<ul>
<li>Dark green color show data structure allocated by CM Engine component and by CM Proxy.</li>
</ul>
<div align="center">
<img src="inline_dotgraph_1.dot.png" alt="inline_dotgraph_1.dot" border="0" usemap="#inline_dotgraph_1.dot.map">
<map name="inline_dotgraph_1.dot.map" id="inline_dotgraph_1.dot.map"></map>
</div>
<h2><a class="anchor" id="HOST2MPC_Code">
Component Manager Driver example codes</a></h2>
<p>For achieving Host-&gt;MPC binding, no OS wrapper is necessary. Only CM driver need to do specific job in order to optimize call.</p>
<p>CM driver which dispatch this method must wrap it with such code: </p>
<div class="fragment"><pre class="fragment"><a class="code" href="group__t__cm__error.html#ga0c6e4897ef6a9f579c3dcac1b697141b" title="Error type returned by CM API routines.">t_cm_error</a> <a class="code" href="group___c_m___o_s___a_p_i.html#ga37fd18442d1faa9ff6a43a0ef4564eed" title="Push a event in Fifo.">CM_OS_PushEventWithSize</a>(
                <a class="code" href="group___c_m___e_n_g_i_n_e___a_p_i.html#gadd9abf4afdde37539dfcc37a2d1584c4" title="Component manager handle to Host -&amp;gt; MPC communication.">t_cm_bf_host2mpc_handle</a> host2mpcId, 
                <a class="code" href="group___c_m___e_n_g_i_n_e___a_p_i.html#gacb472f3bf94f3cac513a65ff8520ce66" title="Communication Component Manager API type.">t_event_params_handle</a> h, 
                <a class="code" href="group___n_m_f___p_r_i_m_i_t_i_v_e___t_y_p_e.html#ga5543ed798da376a99db035f6ae6aaa1f" title="Unsigned 32 bits primitive type.">t_uint32</a> size, 
                <a class="code" href="group___n_m_f___p_r_i_m_i_t_i_v_e___t_y_p_e.html#ga5543ed798da376a99db035f6ae6aaa1f" title="Unsigned 32 bits primitive type.">t_uint32</a> methodIndex) {
    <a class="code" href="group___c_m___e_n_g_i_n_e___a_p_i.html#gacb472f3bf94f3cac513a65ff8520ce66" title="Communication Component Manager API type.">t_event_params_handle</a> <span class="keyword">event</span> = <a class="code" href="group___c_m___e_n_g_i_n_e___a_p_i.html#gaeb6e89dd2de483b6e2aa93d7784a9628" title="Communication User Engine API.">CM_ENGINE_AllocEvent</a>(host2mpcId);
    <span class="keywordflow">if</span>(event == 0)
        <span class="keywordflow">return</span> <a class="code" href="group__t__cm__error.html#ga52524f2ac08e7953aeebc48bdbee9730" title="Param fifo overflow.">CM_PARAM_FIFO_OVERFLOW</a>;
    <span class="keywordflow">if</span>(size != 0)
        Copy_Buffer_From_User_Space(event, h, size); <span class="comment">// h (in user space) -&gt; event (in kernel space)</span>
    <span class="keywordflow">return</span> <a class="code" href="group___c_m___e_n_g_i_n_e___a_p_i.html#ga7d511cd3b752d927291d5039f2605c61" title="Push a event in Fifo.">CM_ENGINE_PushEvent</a>(host2mpcId, event, methodIndex);
}
</pre></div> </div>
<hr size="1">
<address style="align: right;"><small> 
<b>NMF Host Execution Engine Documentation</b> generated by <a href="http://www.doxygen.org">doxygen</a> 1.6.3 on 28 Oct 2011
</small></address>
<address style="align: right;"><small>
Copyright 2006-2009 <a href="http://www.stericsson.com"><b>ST-Ericsson</b></a>
 - Confidential document - Unauthorized reproduction and communication strictly prohibited
</small></address>
</body>
</html>
