
#include "memmap_physical.h"

//////////////////////////////////////////////////////////////////////////////////////////////////////////
///
//
// Application CPU logical memory map
//
///
//////////////////////////////////////////////////////////////////////////////////////////////////////////


#define MEMMAP_LOG_APP_ITCM_START            0x00000000
#define MEMMAP_LOG_APP_ITCM_SIZE             (8 * 1024)
#define MEMMAP_LOG_APP_ITCM_END              (MEMMAP_LOG_APP_ITCM_START + MEMMAP_LOG_APP_ITCM_SIZE - 1)

#define MEMMAP_LOG_APP_DTCM_START            0x00010000
#define MEMMAP_LOG_APP_DTCM_SIZE             (8 * 1024)
#define MEMMAP_LOG_APP_DTCM_END              (MEMMAP_LOG_APP_DTCM_START + MEMMAP_LOG_APP_DTCM_SIZE - 1)

//
// CRH1090281 - mCore for APP and AUD. The TEXT section is shared, but different DATA
//              sections are required (size is the same, though). TEXT uses SASE memory,
//              DATA uses SAS memory.
//

#define MEMMAP_LOG_CRH1090281_TEXT_START     MEMMAP_PHY_APP_RAM_START
#define MEMMAP_LOG_CRH1090281_TEXT_SIZE      (8 * 1024 * 1024)
#define MEMMAP_LOG_CRH1090281_TEXT_END       (MEMMAP_LOG_CRH1090281_TEXT_START + MEMMAP_LOG_CRH1090281_TEXT_SIZE - 1)

#define PFLINK_APP_HEAP_MAX_SIZE                 (14 * 1024 * 1024)

#define MEMMAP_LOG_APP_RAMLOG_START          (MEMMAP_LOG_CRH1090281_TEXT_END + 1)
#define MEMMAP_LOG_APP_RAMLOG_SIZE           (128 * 1024)
#define MEMMAP_LOG_APP_RAMLOG_END            (MEMMAP_LOG_APP_RAMLOG_START + MEMMAP_LOG_APP_RAMLOG_SIZE - 1)

#define MEMMAP_LOG_APP_HEAP_START            (MEMMAP_LOG_APP_RAMLOG_END + 1)
#define MEMMAP_LOG_APP_HEAP_END              (MEMMAP_LOG_APP_HEAP_START + PFLINK_APP_HEAP_MAX_SIZE - 1)

#define MEMMAP_LOG_APP_LOAD_REGION_START     (MEMMAP_LOG_APP_HEAP_END + 1)


#define MEMMAP_LOG_CRH1090281_DATA_START     MEMMAP_LOG_APP_LOAD_REGION_START
#define MEMMAP_LOG_CRH1090281_DATA_SIZE      (33 * 1024 * 1024)
#define MEMMAP_LOG_CRH1090281_DATA_END       (MEMMAP_LOG_CRH1090281_DATA_START + MEMMAP_LOG_CRH1090281_DATA_SIZE - 1)

#define MEMMAP_LOG_CRH1090281_DTCM_START     MEMMAP_LOG_APP_DTCM_START
#define MEMMAP_LOG_CRH1090281_DTCM_SIZE      (1 * 1024)
#define MEMMAP_LOG_CRH1090281_DTCM_END       (MEMMAP_LOG_CRH1090281_DTCM_START + MEMMAP_LOG_CRH1090281_DTCM_SIZE - 1)

#define MEMMAP_LOG_CRH1090281_ITCM_START     MEMMAP_LOG_APP_ITCM_START
#define MEMMAP_LOG_CRH1090281_ITCM_SIZE      (1 * 1024)
#define MEMMAP_LOG_CRH1090281_ITCM_END       (MEMMAP_LOG_CRH1090281_ITCM_START + MEMMAP_LOG_CRH1090281_ITCM_SIZE - 1)


//
// CRH1090308 - BOOT (APP CPU)
//

#define MEMMAP_LOG_CRH1090308_START          (MEMMAP_LOG_CRH1090281_DATA_END + 1)
#define MEMMAP_LOG_CRH1090308_SIZE           (1 * 1024 * 1024)
#define MEMMAP_LOG_CRH1090308_END            (MEMMAP_LOG_CRH1090308_START + MEMMAP_LOG_CRH1090308_SIZE - 1)


//
// CRH1090294 - Early services (APP CPU)
//

#define MEMMAP_LOG_CRH1090294_START          (MEMMAP_LOG_CRH1090308_END + 1)
#define MEMMAP_LOG_CRH1090294_SIZE           (3 * 1024 * 1024)
#define MEMMAP_LOG_CRH1090294_END            (MEMMAP_LOG_CRH1090294_START + MEMMAP_LOG_CRH1090294_SIZE - 1)


//
// CRH1090293 - Startup agent (APP CPU)
//

#define MEMMAP_LOG_CRH1090293_START          (MEMMAP_LOG_CRH1090294_END + 1)
#define MEMMAP_LOG_CRH1090293_SIZE           (1 * 1024 * 1024)
#define MEMMAP_LOG_CRH1090293_END            (MEMMAP_LOG_CRH1090293_START + MEMMAP_LOG_CRH1090293_SIZE - 1)


//
// CRH1090286 - SwPF APP
//

#define MEMMAP_LOG_CRH1090286_START          (MEMMAP_LOG_CRH1090293_END + 1)
#define MEMMAP_LOG_CRH1090286_SIZE           (16 * 1024 * 1024)
#define MEMMAP_LOG_CRH1090286_END            (MEMMAP_LOG_CRH1090286_START + MEMMAP_LOG_CRH1090286_SIZE - 1)

#define MEMMAP_LOG_CRH1090286_ITCM_START     (MEMMAP_LOG_CRH1090281_ITCM_END + 1)
#define MEMMAP_LOG_CRH1090286_ITCM_SIZE      (4 * 1024)
#define MEMMAP_LOG_CRH1090286_ITCM_END       (MEMMAP_LOG_CRH1090286_ITCM_START + MEMMAP_LOG_CRH1090286_ITCM_SIZE - 1)

#define MEMMAP_LOG_CRH1090286_DTCM_START     (MEMMAP_LOG_CRH1090281_DTCM_END + 1)
#define MEMMAP_LOG_CRH1090286_DTCM_SIZE      (4 * 1024)
#define MEMMAP_LOG_CRH1090286_DTCM_END       (MEMMAP_LOG_CRH1090286_DTCM_START + MEMMAP_LOG_CRH1090286_DTCM_SIZE - 1)


//
// CRH1090292 - Java
//

#define MEMMAP_LOG_CRH1090292_START          (MEMMAP_LOG_CRH1090286_END + 1)
#define MEMMAP_LOG_CRH1090292_SIZE           (8 * 1024 * 1024)
#define MEMMAP_LOG_CRH1090292_END            (MEMMAP_LOG_CRH1090292_START + MEMMAP_LOG_CRH1090292_SIZE - 1)


//
// CRH1090283 - ITP APP
//

#define MEMMAP_LOG_CRH1090283_START          (MEMMAP_LOG_CRH1090292_END + 1)
#define MEMMAP_LOG_CRH1090283_SIZE           (1 * 1024 * 1024)
#define MEMMAP_LOG_CRH1090283_END            (MEMMAP_LOG_CRH1090283_START + MEMMAP_LOG_CRH1090283_SIZE - 1)


//
// CRH1090287 - AppTest
//

#define MEMMAP_LOG_CRH1090287_START          (MEMMAP_LOG_CRH1090283_END + 1)
#define MEMMAP_LOG_CRH1090287_SIZE           (1 * 1024 * 1024)
#define MEMMAP_LOG_CRH1090287_END            (MEMMAP_LOG_CRH1090287_START + MEMMAP_LOG_CRH1090287_SIZE - 1)


//
// CRH1090288 - DC Test
//

#define MEMMAP_LOG_CRH1090288_START          (MEMMAP_LOG_CRH1090287_END + 1)
#define MEMMAP_LOG_CRH1090288_SIZE           (2 * 1024 * 1024)
#define MEMMAP_LOG_CRH1090288_END            (MEMMAP_LOG_CRH1090288_START + MEMMAP_LOG_CRH1090288_SIZE - 1)


//
// CRH1090289 - MM Test
//

#define MEMMAP_LOG_CRH1090289_START          (MEMMAP_LOG_CRH1090288_END + 1)
#define MEMMAP_LOG_CRH1090289_SIZE           (1 * 1024 * 1024)
#define MEMMAP_LOG_CRH1090289_END            (MEMMAP_LOG_CRH1090289_START + MEMMAP_LOG_CRH1090289_SIZE - 1)


//
// CRH1090290 - RefApps
//
#define MEMMAP_LOG_CRH1090290_START          (MEMMAP_LOG_CRH1090289_END + 1)
#define MEMMAP_LOG_CRH1090290_SIZE           (4 * 1024 * 1024)
#define MEMMAP_LOG_CRH1090290_END            (MEMMAP_LOG_CRH1090290_START + MEMMAP_LOG_CRH1090290_SIZE - 1)


//
// CRH1090291 - UIToolkit
//
#define MEMMAP_LOG_CRH1090291_START          (MEMMAP_LOG_CRH1090290_END + 1)
#define MEMMAP_LOG_CRH1090291_SIZE           (2 * 1024 * 1024)
#define MEMMAP_LOG_CRH1090291_END            (MEMMAP_LOG_CRH1090291_START + MEMMAP_LOG_CRH1090291_SIZE - 1)


//
//ADE
//
#define MEMMAP_LOG_CRH1090399_START          (MEMMAP_LOG_CRH1090291_END + 1)
#define MEMMAP_LOG_CRH1090399_SIZE           (1 * 1024 * 1024)
#define MEMMAP_LOG_CRH1090399_END            (MEMMAP_LOG_CRH1090399_START + MEMMAP_LOG_CRH1090399_SIZE - 1)


//
//OAF TestApp
//
#define MEMMAP_LOG_CRH1090412_START          (MEMMAP_LOG_CRH1090399_END + 1)
#define MEMMAP_LOG_CRH1090412_SIZE           (1 * 1024 * 1024)
#define MEMMAP_LOG_CRH1090412_END            (MEMMAP_LOG_CRH1090412_START + MEMMAP_LOG_CRH1090412_SIZE - 1)


//
// MM Integration test
//
#define MEMMAP_LOG_CNH1600441_START           (MEMMAP_LOG_CRH1090412_END + 1)
#define MEMMAP_LOG_CNH1600441_SIZE            (1 * 1024 * 1024)
#define MEMMAP_LOG_CNH1600441_END             (MEMMAP_LOG_CNH1600441_START + MEMMAP_LOG_CNH1600441_SIZE - 1)


// TEMPORARY: To allow testing on the FPGA, the audio load module is currently placed on
// the application CPU
#define MEMMAP_LOG_CRH1090323_START          (MEMMAP_LOG_CNH1600441_END + 1)
#define MEMMAP_LOG_CRH1090323_SIZE           (4 * 1024 * 1024)
#define MEMMAP_LOG_CRH1090323_END            (MEMMAP_LOG_CRH1090323_START + MEMMAP_LOG_CRH1090323_SIZE - 1)


//#define MEMMAP_LOG_APP_LOAD_REGION_END       MEMMAP_LOG_CRH1090291_DATA_END
#define MEMMAP_LOG_APP_LOAD_REGION_END       MEMMAP_LOG_CRH1090323_END

#define MEMMAP_LOG_APP_LOAD_REGION_SIZE      (MEMMAP_LOG_APP_LOAD_REGION_END - MEMMAP_LOG_APP_LOAD_REGION_START + 1)

#define MEMMAP_LOG_APP_OS_SASE_SIZE      (MEMMAP_LOG_APP_LOAD_REGION_END - MEMMAP_LOG_CRH1090281_TEXT_START + 1)

#define MEMMAP_LOG_CRH1090281_OS_SAS_START     0x50000000 // (MEMMAP_LOG_APP_LOAD_REGION_END + 1)
#define MEMMAP_LOG_CRH1090281_OS_SAS_SIZE      (16 * 1024 * 1024)
#define MEMMAP_LOG_CRH1090281_OS_SAS_END       (MEMMAP_LOG_CRH1090281_OS_SAS_START + MEMMAP_LOG_CRH1090281_OS_SAS_SIZE - 1)

//////////////////////////////////////////////////////////////////////////////////////////////////////////
///
//
// Access CPU logical memory map
//
///
//////////////////////////////////////////////////////////////////////////////////////////////////////////


#define MEMMAP_LOG_ACC_ITCM_START            0x00000000
#define MEMMAP_LOG_ACC_ITCM_SIZE             (8 * 1024)
#define MEMMAP_LOG_ACC_ITCM_END              (MEMMAP_LOG_ACC_ITCM_START + MEMMAP_LOG_ACC_ITCM_SIZE - 1)

#define MEMMAP_LOG_ACC_DTCM_START            0x00010000
#define MEMMAP_LOG_ACC_DTCM_SIZE             (8 * 1024)
#define MEMMAP_LOG_ACC_DTCM_END              (MEMMAP_LOG_ACC_DTCM_START + MEMMAP_LOG_ACC_DTCM_SIZE - 1)



//
// CRH1090280 - mCore ACC
//

#define MEMMAP_LOG_CRH1090280_TEXT_START     MEMMAP_PHY_ACC_RAM_START
#define MEMMAP_LOG_CRH1090280_TEXT_SIZE      (8 * 1024 * 1024)
#define MEMMAP_LOG_CRH1090280_TEXT_END       (MEMMAP_LOG_CRH1090280_TEXT_START + MEMMAP_LOG_CRH1090280_TEXT_SIZE - 1)

#define PFLINK_ACC_HEAP_MAX_SIZE                 (14 * 1024 * 1024)

#define MEMMAP_LOG_CRH1090280_DATA_START     (MEMMAP_LOG_CRH1090280_TEXT_END + 1)
#define MEMMAP_LOG_CRH1090280_DATA_SIZE      (2 * 1024 * 1024)
#define MEMMAP_LOG_CRH1090280_DATA_END       (MEMMAP_LOG_CRH1090280_DATA_START + MEMMAP_LOG_CRH1090280_DATA_SIZE - 1)

#define MEMMAP_LOG_ACC_RAMLOG_START          (MEMMAP_LOG_CRH1090280_DATA_END + 1)
#define MEMMAP_LOG_ACC_RAMLOG_SIZE           (128 * 1024)
#define MEMMAP_LOG_ACC_RAMLOG_END            (MEMMAP_LOG_ACC_RAMLOG_START + MEMMAP_LOG_ACC_RAMLOG_SIZE - 1)

#define MEMMAP_LOG_ACC_HEAP_START            (MEMMAP_LOG_ACC_RAMLOG_END + 1)
#define MEMMAP_LOG_ACC_HEAP_END              (MEMMAP_LOG_ACC_HEAP_START + PFLINK_ACC_HEAP_MAX_SIZE - 1)

#define MEMMAP_LOG_ACC_LOAD_REGION_START     (MEMMAP_LOG_ACC_HEAP_END + 1)





#define MEMMAP_LOG_CRH1090280_ITCM_START     MEMMAP_LOG_ACC_ITCM_START
#define MEMMAP_LOG_CRH1090280_ITCM_SIZE      (1 * 1024)
#define MEMMAP_LOG_CRH1090280_ITCM_END       (MEMMAP_LOG_CRH1090280_ITCM_START + MEMMAP_LOG_CRH1090280_ITCM_SIZE - 1)

#define MEMMAP_LOG_CRH1090280_DTCM_START     MEMMAP_LOG_ACC_DTCM_START
#define MEMMAP_LOG_CRH1090280_DTCM_SIZE      (1 * 1024)
#define MEMMAP_LOG_CRH1090280_DTCM_END       (MEMMAP_LOG_CRH1090280_DTCM_START + MEMMAP_LOG_CRH1090280_DTCM_SIZE - 1)


//
// CRH1090285 - SwPF ACC
//

#define MEMMAP_LOG_CRH1090285_START          (MEMMAP_LOG_ACC_LOAD_REGION_START)
#define MEMMAP_LOG_CRH1090285_SIZE           (8 * 1024 * 1024)
#define MEMMAP_LOG_CRH1090285_END            (MEMMAP_LOG_CRH1090285_START + MEMMAP_LOG_CRH1090285_SIZE - 1)

#define MEMMAP_LOG_CRH1090285_ITCM_START     (MEMMAP_LOG_CRH1090280_ITCM_END + 1)
#define MEMMAP_LOG_CRH1090285_ITCM_SIZE      (4 * 1024)
#define MEMMAP_LOG_CRH1090285_ITCM_END       (MEMMAP_LOG_CRH1090285_ITCM_START + MEMMAP_LOG_CRH1090285_ITCM_SIZE - 1)

#define MEMMAP_LOG_CRH1090285_DTCM_START     (MEMMAP_LOG_CRH1090280_DTCM_END + 1)
#define MEMMAP_LOG_CRH1090285_DTCM_SIZE      (4 * 1024)
#define MEMMAP_LOG_CRH1090285_DTCM_END       (MEMMAP_LOG_CRH1090285_DTCM_START + MEMMAP_LOG_CRH1090285_DTCM_SIZE - 1)



//
// CRH1090284 - NS Load Module
//

#define MEMMAP_LOG_CRH1090284_START          (MEMMAP_LOG_CRH1090285_END + 1)
#define MEMMAP_LOG_CRH1090284_SIZE           (8 * 1024 * 1024)
#define MEMMAP_LOG_CRH1090284_END            (MEMMAP_LOG_CRH1090284_START + MEMMAP_LOG_CRH1090284_SIZE - 1)

#define MEMMAP_LOG_CRH1090284_ITCM_START     (MEMMAP_LOG_CRH1090285_ITCM_END + 1)
#define MEMMAP_LOG_CRH1090284_ITCM_SIZE      (3 * 1024)
#define MEMMAP_LOG_CRH1090284_ITCM_END       (MEMMAP_LOG_CRH1090284_ITCM_START + MEMMAP_LOG_CRH1090284_ITCM_SIZE - 1)

#define MEMMAP_LOG_CRH1090284_DTCM_START     (MEMMAP_LOG_CRH1090285_DTCM_END + 1)
#define MEMMAP_LOG_CRH1090284_DTCM_SIZE      (3 * 1024)
#define MEMMAP_LOG_CRH1090284_DTCM_END       (MEMMAP_LOG_CRH1090284_DTCM_START + MEMMAP_LOG_CRH1090284_DTCM_SIZE - 1)


//
// CRH1090282 - ITP ACC
//

#define MEMMAP_LOG_CRH1090282_START          (MEMMAP_LOG_CRH1090284_END + 1)
#define MEMMAP_LOG_CRH1090282_SIZE           (1 * 1024 * 1024)
#define MEMMAP_LOG_CRH1090282_END            (MEMMAP_LOG_CRH1090282_START + MEMMAP_LOG_CRH1090282_SIZE - 1)


#define MEMMAP_LOG_ACC_LOAD_REGION_END       MEMMAP_LOG_CRH1090282_END
#define MEMMAP_LOG_ACC_LOAD_REGION_SIZE      (MEMMAP_LOG_ACC_LOAD_REGION_END - MEMMAP_LOG_ACC_LOAD_REGION_START + 1)


#define MEMMAP_LOG_ACC_OS_SASE_SIZE       (MEMMAP_LOG_ACC_LOAD_REGION_END - MEMMAP_LOG_CRH1090280_TEXT_START)

#define MEMMAP_LOG_CRH1090280_OS_SAS_START     (MEMMAP_LOG_ACC_LOAD_REGION_END + 1)
#define MEMMAP_LOG_CRH1090280_OS_SAS_SIZE      (2 * 1024 * 1024)
#define MEMMAP_LOG_CRH1090280_OS_SAS_END       (MEMMAP_LOG_CRH1090280_OS_SAS_START + MEMMAP_LOG_CRH1090280_OS_SAS_SIZE - 1)


//////////////////////////////////////////////////////////////////////////////////////////////////////////
///
//
// Audio CPU logical memory map.
//
///
//////////////////////////////////////////////////////////////////////////////////////////////////////////


#define PFLINK_AUD_HEAP_SMALL_BUF_INIT_SIZE      (128 * 1024)
#define PFLINK_AUD_HEAP_SMALL_BUF_EXT_SIZE       0x4e000
#define PFLINK_AUD_HEAP_LARGE_BUF_THRESHOLD      0x2000
#define PFLINK_AUD_HEAP_MAX_SIZE                 (4 * 1024 * 1024)

#define MEMMAP_LOG_AUD_RAMLOG_START          (MEMMAP_LOG_CRH1090281_TEXT_END + 1)
#define MEMMAP_LOG_AUD_RAMLOG_SIZE           (128 * 1024)
#define MEMMAP_LOG_AUD_RAMLOG_END            (MEMMAP_LOG_AUD_RAMLOG_START + MEMMAP_LOG_AUD_RAMLOG_SIZE - 1)

#define MEMMAP_LOG_AUD_HEAP_START            (MEMMAP_LOG_AUD_RAMLOG_END + 1)
#define MEMMAP_LOG_AUD_HEAP_END              (MEMMAP_LOG_AUD_HEAP_START + PFLINK_AUD_HEAP_MAX_SIZE - 1)

#define MEMMAP_LOG_AUD_LOAD_REGION_START     (MEMMAP_LOG_AUD_HEAP_END + 1)



// Audio CPU shares mCore with App CPU.

//
// CRH1090323 - SwPF Audio
//

// FPGA: To allow testing on the FPGA, the Audio load module is temporarilly placed on the APP CPU.

/*
#define MEMMAP_LOG_CRH1090323_TEXT_START     (MEMMAP_LOG_CRH1090281_DATA_END + 1)
#define MEMMAP_LOG_CRH1090323_TEXT_SIZE      (4 * 1024 * 1024)
#define MEMMAP_LOG_CRH1090323_TEXT_END       (MEMMAP_LOG_CRH1090323_TEXT_START + MEMMAP_LOG_CRH1090323_TEXT_SIZE - 1)

#define MEMMAP_LOG_CRH1090323_DATA_START     (MEMMAP_LOG_CRH1090323_TEXT_END + 1)
#define MEMMAP_LOG_CRH1090323_DATA_SIZE      (4 * 1024 * 1024)
#define MEMMAP_LOG_CRH1090323_DATA_END       (MEMMAP_LOG_CRH1090323_DATA_START + MEMMAP_LOG_CRH1090323_DATA_SIZE - 1)

#define MEMMAP_LOG_CRH1090323_ITCM_START     (MEMMAP_LOG_CRH1090281_ITCM_END + 1)
#define MEMMAP_LOG_CRH1090323_ITCM_SIZE      (7 * 1024)
#define MEMMAP_LOG_CRH1090323_ITCM_END       (MEMMAP_LOG_CRH1090323_ITCM_START + MEMMAP_LOG_CRH1090323_ITCM_SIZE - 1)

#define MEMMAP_LOG_CRH1090323_DTCM_START     (MEMMAP_LOG_CRH1090281_DTCM_END + 1)
#define MEMMAP_LOG_CRH1090323_DTCM_SIZE      (7 * 1024)
#define MEMMAP_LOG_CRH1090323_DTCM_END       (MEMMAP_LOG_CRH1090323_DTCM_START + MEMMAP_LOG_CRH1090323_DTCM_SIZE - 1)


#define MEMMAP_LOG_AUD_LOAD_REGION_END       MEMMAP_LOG_CRH1090323_DATA_END
*/

#define MEMMAP_LOG_AUD_LOAD_REGION_END       MEMMAP_LOG_AUD_LOAD_REGION_START
#define MEMMAP_LOG_AUD_LOAD_REGION_SIZE      (MEMMAP_LOG_AUD_LOAD_REGION_END - MEMMAP_LOG_APP_LOAD_REGION_START + 1)

