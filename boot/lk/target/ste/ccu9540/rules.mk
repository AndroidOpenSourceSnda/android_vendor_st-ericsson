LOCAL_DIR := $(GET_LOCAL_DIR)

INCLUDES += \
	-I$(BASSAPP_DIR)/include

PLATFORM := ste/x500

WITH_TINY_ENV := 1
KEYS_USE_GPIO_KEYPAD := 1
USB_USE_MENTOR := 1
ENABLE_FASTBOOT := 1
CONFIG_VIDEO_LOGO := 1
CONFIG_BOOTTIME :=1
CONFIG_ENABLE_VIBRATOR :=1
ENABLE_TEXT :=1

BASSAPP_LIB := $(PRIVATE_LK_OUT_DIR)/bass_app_osfree/bin/libbassapp.a

ifndef ESRAM
MEMBASE := 0x05608000 # lk start
else
MEMBASE := 0x40026000 # lk start
endif
MEMSIZE := 0x00100000 # 1MB
DBGBUFSIZE := 1024

BASE_ADDR            := 0x00000000

TAGS_ADDR            := BASE_ADDR+0x00000100
KERNEL_ADDR          := BASE_ADDR+0x00008000
RAMDISK_ADDR         := BASE_ADDR+0x01000000
SCRATCH_ADDR         := 0x08008000
FASTBOOT_BUF_SIZE    := 0x07800000


MODULES += \
	dev/keys
# 	lib/ptable

DEFINES += \
	SDRAM_SIZE=$(MEMSIZE) \
	MEMBASE=$(MEMBASE) \
	BASE_ADDR=$(BASE_ADDR) \
	KERNEL_ADDR=$(KERNEL_ADDR) \
	RAMDISK_ADDR=$(RAMDISK_ADDR) \
	SCRATCH_ADDR=$(SCRATCH_ADDR) \
	FASTBOOT_BUF_SIZE=$(FASTBOOT_BUF_SIZE) \
	WITH_TINY_ENV=$(WITH_TINY_ENV) \
	KEYS_USE_GPIO_KEYPAD=$(KEYS_USE_GPIO_KEYPAD) \
	USB_USE_MENTOR=$(USB_USE_MENTOR) \
	ENABLE_FASTBOOT=$(ENABLE_FASTBOOT) \
	CONFIG_VIDEO_LOGO=$(CONFIG_VIDEO_LOGO) \
	DBGBUFSIZE=$(DBGBUFSIZE) \
	CONFIG_BOOTTIME=$(CONFIG_BOOTTIME) \
	CONFIG_ENABLE_VIBRATOR=$(CONFIG_ENABLE_VIBRATOR) \
	ENABLE_TEXT=$(ENABLE_TEXT)

OBJS += $(LOCAL_DIR)/init.o \
	$(LOCAL_DIR)/keypad.o
